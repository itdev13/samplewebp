<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Documentation - Conversations API Gateway</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #2d3748;
    }

    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 280px;
      height: 100vh;
      background: #1a202c;
      color: white;
      padding: 30px 20px;
      overflow-y: auto;
    }

    .sidebar h2 {
      font-size: 20px;
      margin-bottom: 20px;
      color: #667eea;
    }

    .sidebar ul {
      list-style: none;
    }

    .sidebar ul li {
      margin-bottom: 10px;
    }

    .sidebar ul li a {
      color: #a0aec0;
      text-decoration: none;
      transition: color 0.3s;
      display: block;
      padding: 8px 12px;
      border-radius: 6px;
    }

    .sidebar ul li a:hover,
    .sidebar ul li a.active {
      color: white;
      background: rgba(102, 126, 234, 0.2);
    }

    .main-content {
      margin-left: 280px;
      padding: 40px 60px;
      max-width: 1000px;
    }

    h1 {
      font-size: 36px;
      margin-bottom: 20px;
      color: #1a202c;
    }

    h2 {
      font-size: 28px;
      margin-top: 40px;
      margin-bottom: 20px;
      color: #2d3748;
      border-bottom: 2px solid #e2e8f0;
      padding-bottom: 10px;
    }

    h3 {
      font-size: 20px;
      margin-top: 30px;
      margin-bottom: 15px;
      color: #4a5568;
    }

    .code-block {
      background: #1a202c;
      color: #e2e8f0;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 15px 0;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
    }

    .code-inline {
      background: #edf2f7;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 13px;
      color: #d53f8c;
    }

    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-right: 10px;
    }

    .badge-get { background: #c6f6d5; color: #22543d; }
    .badge-post { background: #bee3f8; color: #2c5282; }
    .badge-put { background: #feebc8; color: #744210; }
    .badge-delete { background: #fed7d7; color: #742a2a; }

    .endpoint {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    .endpoint-title {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .endpoint-path {
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      color: #4a5568;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }

    table th {
      background: #f7fafc;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      border: 1px solid #e2e8f0;
    }

    table td {
      padding: 12px;
      border: 1px solid #e2e8f0;
    }

    .alert {
      padding: 15px 20px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid;
    }

    .alert-info {
      background: #bee3f8;
      border-color: #3182ce;
      color: #2c5282;
    }

    .alert-warning {
      background: #feebc8;
      border-color: #dd6b20;
      color: #744210;
    }

  </style>
</head>
<body>
  <div class="sidebar">
    <h2>ðŸ“š API Docs</h2>
    <ul>
      <li><a href="#introduction" class="active">Introduction</a></li>
      <li><a href="#authentication">Authentication</a></li>
      <li><a href="#rate-limits">Rate Limits</a></li>
      <li><a href="#endpoints">Endpoints</a></li>
      <li><a href="#search">Search Conversations</a></li>
      <li><a href="#get-conversation">Get Conversation</a></li>
      <li><a href="#get-messages">Get Messages</a></li>
      <!-- <li><a href="#export">Export Messages</a></li> -->
      <li><a href="#errors">Error Handling</a></li>
    </ul>
  </div>

  <div class="main-content">
    <h1>ðŸš€ Conversations API Gateway</h1>
    <p style="font-size: 18px; color: #718096; margin-bottom: 40px;">
      Access GoHighLevel Conversations API through a simple, authenticated gateway. Perfect for HIPAA accounts and third-party integrations.
    </p>

    <section id="introduction">
      <h2>Introduction</h2>
      <p>The Conversations API Gateway provides secure, OAuth-authenticated access to GoHighLevel conversation data. Instead of managing OAuth flows and tokens yourself, use our API keys for instant access.</p>

      <div class="alert alert-info">
        <strong>Why use this gateway?</strong><br>
        âœ“ Simple API key authentication<br>
        âœ“ Works with HIPAA accounts<br>
        âœ“ Built-in rate limiting and usage tracking<br>
        âœ“ Better error handling and documentation<br>
        âœ“ No OAuth complexity
      </div>
    </section>

    <section id="authentication">
      <h2>Authentication</h2>
      <p>All API requests require authentication using an API key. Include your API key in the <code class="code-inline">Authorization</code> header:</p>

      <div class="code-block">GET /api/v1/conversations/search
Host: your-domain.com
Authorization: Bearer sk_live_your_api_key_here
Content-Type: application/json</div>

      <div class="alert alert-warning">
        <strong>Keep your API keys secure!</strong><br>
        Never expose your API keys in client-side code or public repositories.
      </div>

      <h3>Getting an API Key</h3>
      <ol>
        <li>Install the app in your GHL account</li>
        <li>Visit the Developer Portal</li>
        <li>Click "Create New Key"</li>
        <li>Copy and save your key (you won't see it again!)</li>
      </ol>
    </section>

    <section id="rate-limits">
      <h2>Rate Limits</h2>
      <p>Rate limits vary by subscription tier. All responses include rate limit headers:</p>

      <table>
        <thead>
          <tr>
            <th>Header</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="code-inline">X-RateLimit-Limit</code></td>
            <td>Total requests allowed per month</td>
          </tr>
          <tr>
            <td><code class="code-inline">X-RateLimit-Remaining</code></td>
            <td>Requests remaining in current period</td>
          </tr>
          <tr>
            <td><code class="code-inline">X-RateLimit-Reset</code></td>
            <td>Timestamp when the limit resets</td>
          </tr>
        </tbody>
      </table>

      <p>If you exceed your rate limit, you'll receive a <code class="code-inline">429 Too Many Requests</code> response.</p>
    </section>

    <section id="endpoints">
      <h2>Endpoints</h2>
      <p>Base URL: <code class="code-inline">https://your-domain.com/api/v1</code></p>
    </section>

    <section id="search">
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="badge badge-get">GET</span>
          <span class="endpoint-path">/conversations/search</span>
        </div>

        <p>Search for conversations with various filters.</p>

        <h3>Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code class="code-inline">locationId</code></td>
              <td>string</td>
              <td>GHL Location ID (auto-populated from API key)</td>
            </tr>
            <tr>
              <td><code class="code-inline">contactId</code></td>
              <td>string</td>
              <td>Filter by contact ID</td>
            </tr>
            <tr>
              <td><code class="code-inline">limit</code></td>
              <td>number</td>
              <td>Number of results (default: 20, max: 100)</td>
            </tr>
            <tr>
              <td><code class="code-inline">status</code></td>
              <td>string</td>
              <td>Filter by status (open, closed, etc.)</td>
            </tr>
          </tbody>
        </table>

        <h3>Example Request</h3>
        <div class="code-block">curl -X GET "https://your-domain.com/api/v1/conversations/search?limit=10" \
  -H "Authorization: Bearer sk_live_abc123..." \
  -H "Content-Type: application/json"</div>

        <h3>Example Response</h3>
        <div class="code-block">{
  "success": true,
  "data": {
    "conversations": [
      {
        "id": "conv_123",
        "contactId": "contact_456",
        "lastMessageDate": "2024-01-15T10:30:00Z",
        "unreadCount": 2,
        "status": "open"
      }
    ],
    "total": 50
  },
  "meta": {
    "locationId": "loc_789",
    "timestamp": "2024-01-15T11:00:00Z"
  }
}</div>
      </div>
    </section>

    <section id="get-conversation">
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="badge badge-get">GET</span>
          <span class="endpoint-path">/conversations/:conversationId</span>
        </div>

        <p>Get details of a specific conversation.</p>

        <h3>Path Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code class="code-inline">conversationId</code></td>
              <td>string</td>
              <td>The conversation ID</td>
            </tr>
          </tbody>
        </table>

        <h3>Example Request</h3>
        <div class="code-block">curl -X GET "https://your-domain.com/api/v1/conversations/conv_123" \
  -H "Authorization: Bearer sk_live_abc123..." \
  -H "Content-Type: application/json"</div>

        <h3>Example Response</h3>
        <div class="code-block">{
  "success": true,
  "data": {
    "id": "conv_123",
    "contactId": "contact_456",
    "contactName": "John Doe",
    "lastMessageDate": "2024-01-15T10:30:00Z",
    "lastMessageBody": "Thank you!",
    "unreadCount": 2,
    "status": "open"
  },
  "meta": {
    "locationId": "loc_789",
    "conversationId": "conv_123",
    "timestamp": "2024-01-15T11:00:00Z"
  }
}</div>
      </div>
    </section>

    <section id="get-messages">
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="badge badge-get">GET</span>
          <span class="endpoint-path">/conversations/:conversationId/messages</span>
        </div>

        <p>Get all messages in a conversation.</p>

        <h3>Path Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code class="code-inline">conversationId</code></td>
              <td>string</td>
              <td>The conversation ID</td>
            </tr>
          </tbody>
        </table>

        <h3>Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code class="code-inline">limit</code></td>
              <td>number</td>
              <td>Number of messages to return</td>
            </tr>
            <tr>
              <td><code class="code-inline">type</code></td>
              <td>string</td>
              <td>Filter by message type (SMS, Email, etc.)</td>
            </tr>
          </tbody>
        </table>

        <h3>Example Request</h3>
        <div class="code-block">curl -X GET "https://your-domain.com/api/v1/conversations/conv_123/messages?limit=50" \
  -H "Authorization: Bearer sk_live_abc123..." \
  -H "Content-Type: application/json"</div>

        <h3>Example Response</h3>
        <div class="code-block">{
  "success": true,
  "data": {
    "messages": [
      {
        "id": "msg_789",
        "conversationId": "conv_123",
        "type": "SMS",
        "direction": "inbound",
        "body": "Hello, I have a question",
        "dateAdded": "2024-01-15T10:25:00Z",
        "status": "delivered"
      }
    ],
    "conversationId": "conv_123",
    "total": 15
  },
  "meta": {
    "locationId": "loc_789",
    "conversationId": "conv_123",
    "timestamp": "2024-01-15T11:00:00Z"
  }
}</div>
      </div>
    </section>

    <!-- <section id="export">
      <div class="endpoint">
        <div class="endpoint-title">
          <span class="badge badge-get">GET</span>
          <span class="endpoint-path">/messages/export</span>
        </div>

        <p>Export messages with advanced filtering options.</p>

        <h3>Query Parameters</h3>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code class="code-inline">startDate</code></td>
              <td>string</td>
              <td>Start date (ISO 8601 format)</td>
            </tr>
            <tr>
              <td><code class="code-inline">endDate</code></td>
              <td>string</td>
              <td>End date (ISO 8601 format)</td>
            </tr>
            <tr>
              <td><code class="code-inline">channel</code></td>
              <td>string</td>
              <td>Channel type (SMS, Email, etc.)</td>
            </tr>
            <tr>
              <td><code class="code-inline">contactId</code></td>
              <td>string</td>
              <td>Filter by contact ID</td>
            </tr>
            <tr>
              <td><code class="code-inline">limit</code></td>
              <td>number</td>
              <td>Number of messages (default: 100, max: 1000)</td>
            </tr>
          </tbody>
        </table>

        <h3>Example Request</h3>
        <div class="code-block">curl -X GET "https://your-domain.com/api/v1/messages/export?startDate=2024-01-01&endDate=2024-01-31&channel=SMS" \
  -H "Authorization: Bearer sk_live_abc123..." \
  -H "Content-Type: application/json"</div>
      </div>
    </section> -->

    <section id="errors">
      <h2>Error Handling</h2>
      <p>The API uses standard HTTP status codes:</p>

      <table>
        <thead>
          <tr>
            <th>Code</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="code-inline">200</code></td>
            <td>Success</td>
          </tr>
          <tr>
            <td><code class="code-inline">400</code></td>
            <td>Bad Request - Invalid parameters</td>
          </tr>
          <tr>
            <td><code class="code-inline">401</code></td>
            <td>Unauthorized - Invalid or missing API key</td>
          </tr>
          <tr>
            <td><code class="code-inline">403</code></td>
            <td>Forbidden - Insufficient permissions</td>
          </tr>
          <tr>
            <td><code class="code-inline">429</code></td>
            <td>Too Many Requests - Rate limit exceeded</td>
          </tr>
          <tr>
            <td><code class="code-inline">500</code></td>
            <td>Internal Server Error</td>
          </tr>
        </tbody>
      </table>

      <h3>Error Response Format</h3>
      <div class="code-block">{
  "success": false,
  "error": "Rate limit exceeded",
  "message": "Monthly quota exceeded",
  "limit": 10000,
  "used": 10000,
  "resetAt": "2024-02-01T00:00:00Z"
}</div>
    </section>

    <section id="rate-limits">
      <h2>Rate Limits</h2>
      <p>All users get generous rate limits:</p>
      <ul>
        <li><strong>100,000 requests per month</strong></li>
        <li><strong>100 requests per minute</strong></li>
      </ul>
      <p style="margin-top: 15px;">
        Rate limit information is included in response headers:
      </p>
      <div class="code-block">X-RateLimit-Limit: 100000
X-RateLimit-Remaining: 95432
X-RateLimit-Reset: 2024-02-01T00:00:00Z</div>
    </section>

    <div style="margin-top: 60px; padding-top: 30px; border-top: 2px solid #e2e8f0;">
      <p style="text-align: center; color: #718096;">
        Questions? Contact us at <a href="mailto:support@yourcompany.com" style="color: #667eea;">support@yourcompany.com</a>
      </p>
    </div>
  </div>
</body>
</html>

